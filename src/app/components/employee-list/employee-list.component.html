<div class="employee-list-container">
  <div class="list-header">
    <h2>Employee List</h2>

    <!-- Search Bar -->
    <div class="search-container">
      <input
        type="text"
        [formControl]="searchControl"
        placeholder="Search by name or email..."
        class="search-input"
      />
      <div class="search-icon">üîç</div>
    </div>

    <!-- Sort Controls -->
    <div class="sort-controls">
      <span class="sort-label">Sort by:</span>
      <button
        class="sort-btn"
        [class.active]="sortField === 'fullName'"
        (click)="onSort('fullName')"
      >
        Name {{ getSortIcon('fullName') }}
      </button>
      <button
        class="sort-btn"
        [class.active]="sortField === 'startDate'"
        (click)="onSort('startDate')"
      >
        Start Date {{ getSortIcon('startDate') }}
      </button>
      <button
        class="sort-btn"
        [class.active]="sortField === 'skillsCount'"
        (click)="onSort('skillsCount')"
      >
        Skills Count {{ getSortIcon('skillsCount') }}
      </button>
    </div>
  </div>

  <!-- Employee Cards -->
  <div class="employees-grid" *ngIf="filteredAndSortedEmployees$ | async as employees">
    <div *ngIf="employees.length === 0" class="no-employees">
      <p>No employees found.</p>
    </div>

    <div *ngFor="let employee of employees; trackBy: trackByEmployeeId" class="employee-card-wrapper">
      <!-- Custom Template -->
      <ng-container *ngIf="customCardTemplate; else defaultCard">
        <ng-container *ngTemplateOutlet="customCardTemplate; context: {
          $implicit: employee,
          onEdit: onEditEmployee.bind(this),
          onDelete: onDeleteEmployee.bind(this)
        }"></ng-container>
      </ng-container>

      <!-- Default Card Template -->
      <ng-template #defaultCard>
        <app-employee-card
          [employee]="employee"
          (edit)="onEditEmployee(employee)"
          (delete)="onDeleteEmployee(employee)"
        ></app-employee-card>
      </ng-template>
    </div>
  </div>
</div>
